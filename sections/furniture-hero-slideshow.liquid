{{ 'slideshow.css' | asset_url | stylesheet_tag }}
<style>
.furniture-hero {
  position: relative;
  overflow: hidden;
}

.furniture-hero__slide {
  position: relative;
  display: flex;
  align-items: center;
  min-height: 600px;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.furniture-hero__content {
  position: relative;
  z-index: 2;
  max-width: 800px;
  padding: 4rem 2rem;
  color: white;
}

.furniture-hero__overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
}

.furniture-hero__subheading {
  font-size: 1.125rem;
  font-weight: 500;
  margin-bottom: 1rem;
  opacity: 0.9;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.furniture-hero__heading {
  font-size: clamp(2.5rem, 5vw, 4rem);
  font-weight: 700;
  line-height: 1.1;
  margin-bottom: 1.5rem;
}

.furniture-hero__description {
  font-size: 1.25rem;
  line-height: 1.6;
  margin-bottom: 2.5rem;
  opacity: 0.95;
}

.furniture-hero__buttons {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

.furniture-hero__button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 1rem 2rem;
  font-weight: 600;
  text-decoration: none;
  border-radius: 0.5rem;
  transition: all 0.3s ease;
  border: 2px solid transparent;
}

.furniture-hero__button--primary {
  background-color: white;
  color: #2c3e50;
}

.furniture-hero__button--primary:hover {
  background-color: #f8f9fa;
  transform: translateY(-2px);
}

.furniture-hero__button--outline {
  background-color: transparent;
  color: white;
  border-color: white;
}

.furniture-hero__button--outline:hover {
  background-color: white;
  color: #2c3e50;
}

@media (max-width: 768px) {
  .furniture-hero__slide {
    min-height: 500px;
  }
  
  .furniture-hero__content {
    padding: 2rem 1rem;
    text-align: center;
  }
  
  .furniture-hero__buttons {
    justify-content: center;
  }
  
  .furniture-hero__button {
    padding: 0.875rem 1.5rem;
    font-size: 0.9rem;
  }
}
</style>

{%- liquid
  assign slideshow_id = 'furniture-hero-' | append: section.id
  assign auto_rotate = section.settings.auto_rotate
  assign change_slides_speed = section.settings.change_slides_speed | append: '000'
-%}

<div class="furniture-hero section-padding" {% render 'section-properties' %}>
  {%- if section.blocks.size > 1 -%}
    <div class="splide" id="{{ slideshow_id }}" 
         data-splide='{"type":"loop","autoplay":{{ auto_rotate }},"interval":{{ change_slides_speed }},"speed":800,"arrows":true,"pagination":true}'>
      <div class="splide__track">
        <div class="splide__list">
          {%- for block in section.blocks -%}
            <div class="splide__slide" {{ block.shopify_attributes }}>
              {%- render 'furniture-hero-slide', block: block -%}
            </div>
          {%- endfor -%}
        </div>
      </div>
    </div>
  {%- else -%}
    {%- for block in section.blocks -%}
      <div {{ block.shopify_attributes }}>
        {%- render 'furniture-hero-slide', block: block -%}
      </div>
    {%- endfor -%}
  {%- endif -%}
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    if (typeof Splide !== 'undefined' && document.getElementById('{{ slideshow_id }}')) {
      new Splide('#{{ slideshow_id }}').mount();
    }
  });
</script>

{% schema %}
{
  "name": "Furniture Hero Slideshow",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "checkbox",
      "id": "auto_rotate",
      "label": "Auto-rotate slides",
      "default": true
    },
    {
      "type": "range",
      "id": "change_slides_speed",
      "min": 3,
      "max": 10,
      "step": 1,
      "unit": "s",
      "label": "Change slides every",
      "default": 6
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top padding",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding",
      "default": 0
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Desktop Image",
          "info": "1920 x 800px recommended"
        },
        {
          "type": "image_picker",
          "id": "mobile_image",
          "label": "Mobile Image",
          "info": "800 x 600px recommended"
        },
        {
          "type": "url",
          "id": "slide_link",
          "label": "Slide link"
        },
        {
          "type": "header",
          "content": "Content"
        },
        {
          "type": "text",
          "id": "subheading",
          "label": "Subheading",
          "default": "Transform Your Space"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Beautiful Furniture for Every Home"
        },
        {
          "type": "textarea",
          "id": "content",
          "label": "Description",
          "default": "Discover our curated collection of premium furniture designed to make your house feel like home."
        },
        {
          "type": "header",
          "content": "Buttons"
        },
        {
          "type": "text",
          "id": "button_text_1",
          "label": "First button text",
          "default": "Shop Now"
        },
        {
          "type": "url",
          "id": "button_link_1",
          "label": "First button link"
        },
        {
          "type": "text",
          "id": "button_text_2",
          "label": "Second button text",
          "default": "View Collection"
        },
        {
          "type": "url",
          "id": "button_link_2",
          "label": "Second button link"
        },
        {
          "type": "header",
          "content": "Overlay"
        },
        {
          "type": "color",
          "id": "overlay_color",
          "label": "Overlay color",
          "default": "#000000"
        },
        {
          "type": "range",
          "id": "overlay_opacity",
          "min": 0,
          "max": 100,
          "step": 5,
          "unit": "%",
          "label": "Overlay opacity",
          "default": 40
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Furniture Hero Slideshow",
      "blocks": [
        {
          "type": "slide"
        }
      ]
    }
  ]
}
{% endschema %}
